{"version":3,"sources":["../../jsx/utils/selection.js"],"names":[],"mappings":"AAAA;;;;;AAEO,IAAM,gDAAoB,SAApB,iBAAoB,GAAM;AACrC,MAAM,YAAY,OAAO,YAAP,EAAlB;AACA,MAAI,UAAU,UAAV,KAAyB,CAA7B,EAAgC,OAAO,IAAP;AAChC,SAAO,UAAU,UAAV,CAAqB,CAArB,CAAP;AACD,CAJM;;AAMA,IAAM,4DAA0B,SAA1B,uBAA0B,CAAC,KAAD,EAAW;AAChD,MAAI,OAAO,MAAM,cAAjB;AACA,KAAG;AACD,QAAM,kBAAkB,KAAK,YAAL,GAAoB,KAAK,YAAL,CAAkB,YAAlB,CAApB,GAAqD,IAA7E;AACA,QAAI,eAAJ,EAAqB,OAAO,IAAP;AACrB,WAAO,KAAK,UAAZ;AACD,GAJD,QAIS,SAAS,IAJlB;AAKA,SAAO,IAAP;AACD,CARM;;AAUA,IAAM,kDAAqB,SAArB,kBAAqB,CAAC,cAAD,EAAoB;AACpD,MAAM,eAAe,SAAS,cAAT,CAAwB,YAAxB,EAAsC,qBAAtC,EAArB;AACA,MAAM,cAAc,eAAe,qBAAf,EAApB;AACA,MAAM,aAAa,YAAY,KAAZ,GAAoB,YAAY,IAAnD;AACA,MAAM,cAAc,YAAY,MAAZ,GAAqB,YAAY,GAArD;AACA,MAAM,aAAc,YAAY,IAAZ,GAAmB,aAAa,IAAjC,GACN,aAAa;;AADP,KAGN,KAAK,CAHlB;;AAKA,MAAM,YAAY,YAAY,GAAZ,GAAkB,aAAa,GAA/B,GAAqC,EAAvD;AACA,SAAO,EAAE,sBAAF,EAAc,oBAAd,EAAP;AACD,CAZM","file":"selection.js","sourcesContent":["'use strict';\n\nexport const getSelectionRange = () => {\n  const selection = window.getSelection();\n  if (selection.rangeCount === 0) return null;\n  return selection.getRangeAt(0);\n}\n\nexport const getSelectedBlockElement = (range) => {\n  let node = range.startContainer;\n  do {\n    const nodeIsDataBlock = node.getAttribute ? node.getAttribute('data-block'): null;\n    if (nodeIsDataBlock) return node;\n    node = node.parentNode;\n  } while (node !== null);\n  return null;\n}\n\nexport const getSelectionCoords = (selectionRange) => {\n  const editorBounds = document.getElementById('richEditor').getBoundingClientRect();\n  const rangeBounds = selectionRange.getBoundingClientRect();\n  const rangeWidth = rangeBounds.right - rangeBounds.left;\n  const rangeHeight = rangeBounds.bottom - rangeBounds.top;\n  const offsetLeft = (rangeBounds.left - editorBounds.left)\n            + (rangeWidth / 2)\n            /* 72px is width of inline toolbar */\n            - (72 / 2);\n  // 42px is height of inline toolbar (35px) + 5px center triangle and 2px for spacing\n  const offsetTop = rangeBounds.top - editorBounds.top - 42;\n  return { offsetLeft, offsetTop };\n}\n"]}